"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[384],{384:(j,g,p)=>{p.r(g),p.d(g,{ReportsPageModule:()=>G});var r=p(7343),c=p(2200),u=p(4341),h=p(2545),f=p(8132),_=p(467),t=p(3664),d=p(2615);function D(o,a){if(1&o){const n=t.RV6();t.j41(0,"ion-content")(1,"ion-datetime",16),t.bIt("ionChange",function(e){d.eBV(n);const i=t.XpG(2).$implicit,l=t.XpG();return d.Njj(l.onStartDateChange(i,e))}),t.k0s()()}if(2&o){const n=t.XpG(2).$implicit;t.R7$(),t.Y8G("value",n.filters.startDate)}}function v(o,a){if(1&o){const n=t.RV6();t.j41(0,"ion-content")(1,"ion-datetime",16),t.bIt("ionChange",function(e){d.eBV(n);const i=t.XpG(2).$implicit,l=t.XpG();return d.Njj(l.onEndDateChange(i,e))}),t.k0s()()}if(2&o){const n=t.XpG(2).$implicit;t.R7$(),t.Y8G("value",n.filters.endDate)}}function R(o,a){if(1&o){const n=t.RV6();t.j41(0,"div",6)(1,"h2"),t.EFF(2),t.k0s(),t.j41(3,"ion-item",7)(4,"ion-label",8),t.EFF(5,"Start Date"),t.k0s(),t.nrm(6,"ion-input",9),t.k0s(),t.j41(7,"ion-modal",10),t.DNE(8,D,2,1,"ng-template"),t.k0s(),t.j41(9,"ion-item",7)(10,"ion-label",8),t.EFF(11,"End Date"),t.k0s(),t.nrm(12,"ion-input",9),t.k0s(),t.j41(13,"ion-modal",10),t.DNE(14,v,2,1,"ng-template"),t.k0s(),t.j41(15,"ion-item")(16,"ion-label",8),t.EFF(17,"Type"),t.k0s(),t.j41(18,"ion-select",11),t.mxI("ngModelChange",function(e){d.eBV(n);const i=t.XpG().$implicit;return t.DH7(i.filters.type,e)||(i.filters.type=e),d.Njj(e)}),t.j41(19,"ion-select-option",12),t.EFF(20,"Summary"),t.k0s(),t.j41(21,"ion-select-option",13),t.EFF(22,"Detailed"),t.k0s(),t.j41(23,"ion-select-option",14),t.EFF(24,"Graph"),t.k0s()()(),t.j41(25,"div",15)(26,"p"),t.EFF(27),t.k0s()()()}if(2&o){const n=t.XpG().$implicit;t.R7$(2),t.SpI("",n.name," - Filters"),t.R7$(),t.Y8G("id",t.mNQ("report-start-"+n.id)),t.R7$(3),t.Y8G("value",n.filters.startDateDisplay),t.R7$(),t.Y8G("trigger",t.mNQ("report-start-"+n.id))("keepContentsMounted",!0),t.R7$(2),t.Y8G("id",t.mNQ("report-end-"+n.id)),t.R7$(3),t.Y8G("value",n.filters.endDateDisplay),t.R7$(),t.Y8G("trigger",t.mNQ("report-end-"+n.id))("keepContentsMounted",!0),t.R7$(5),t.R50("ngModel",n.filters.type),t.R7$(9),t.JRh(n.preview)}}function y(o,a){if(1&o&&(t.j41(0,"ion-accordion",3)(1,"ion-item",4)(2,"ion-label"),t.EFF(3),t.k0s()(),t.DNE(4,R,28,15,"div",5),t.k0s()),2&o){const n=a.$implicit;t.Y8G("value",n.id),t.R7$(3),t.JRh(n.name),t.R7$(),t.Y8G("ngIf",n.preview)}}const C=[{path:"",component:(()=>{var o;class a{constructor(){this.reports=[{id:"invoice",name:"Sales Report",preview:"",filters:{startDate:"",endDate:"",startDateDisplay:"",endDateDisplay:"",type:""}},{id:"dispatch",name:"Inventory Report",preview:"",filters:{startDate:"",endDate:"",startDateDisplay:"",endDateDisplay:"",type:""}},{id:"production",name:"Expenses Report",preview:"",filters:{startDate:"",endDate:"",startDateDisplay:"",endDateDisplay:"",type:""}},{id:"products",name:"Products Report",preview:"",filters:{startDate:"",endDate:"",startDateDisplay:"",endDateDisplay:"",type:""}}]}handleAccordionChange(s){var e=this;return(0,_.A)(function*(){const i=s.detail.value;if(i){const l=e.reports.find(m=>m.id===i);l&&!l.preview&&(l.preview=yield e.loadReportData(l.id))}})()}loadReportData(s){return(0,_.A)(function*(){const e={invoice:"Sales invoice summary for Q3...",dispatch:"Dispatch data overview...",production:"Production entry analysis...",products:"Product details..."};return new Promise(i=>{setTimeout(()=>i(e[s]||"No data found."),500)})})()}onStartDateChange(s,e){const i=e.detail.value;s.filters.startDate=i;const l=new Date(i);s.filters.startDateDisplay=l.toLocaleDateString()}onEndDateChange(s,e){const i=e.detail.value;s.filters.endDate=i;const l=new Date(i);s.filters.endDateDisplay=l.toLocaleDateString()}static#t=o=()=>(this.\u0275fac=function(e){return new(e||a)},this.\u0275cmp=t.VBU({type:a,selectors:[["app-reports"]],standalone:!1,decls:8,vars:2,consts:[[3,"translucent"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["slot","header"],["slot","content",4,"ngIf"],["slot","content"],["lines","full",3,"id"],["position","fixed"],["readonly","","placeholder","Select date",3,"value"],["cssClass","report-datetime-modal",3,"trigger","keepContentsMounted"],["interface","popover","placeholder","Select type",3,"ngModelChange","ngModel"],["value","summary"],["value","detailed"],["value","graph"],[2,"margin-top","1em"],["presentation","date","show-default-buttons","true",3,"ionChange","value"]],template:function(e,i){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," Reports "),t.k0s()()(),t.j41(4,"ion-content")(5,"ion-accordion-group",1),t.bIt("ionChange",function(m){return i.handleAccordionChange(m)}),t.DNE(6,y,5,3,"ion-accordion",2),t.k0s()(),t.nrm(7,"app-footer-bar")),2&e&&(t.Y8G("translucent",!0),t.R7$(6),t.Y8G("ngForOf",i.reports))},dependencies:[r.xk,r.YH,r.W9,r.A9,r.eU,r.$w,r.uz,r.he,r.Nm,r.Ip,r.BC,r.ai,r.Sb,r.Je,r.Gw,c.Sq,c.bT,u.BC,u.vS],styles:["ion-item[_ngcontent-%COMP%]{font-weight:600;background:#f8f8f8;border-radius:6px;margin-top:8px}[slot=content][_ngcontent-%COMP%]{padding:10px 16px;background:#fafafa;border-left:3px solid var(--ion-color-primary)}ion-modal.report-datetime-modal[_ngcontent-%COMP%]{--width: 350px;--height: 396px;--max-width: 90%;--max-height: 80%;--border-radius: 12px;--backdrop-opacity: .4}ion-modal.report-datetime-modal[_ngcontent-%COMP%]::part(content){border-radius:12px;display:flex;flex-direction:column}"]}))}return o(),a})()}];let F=(()=>{var o;class a{static#t=o=()=>(this.\u0275fac=function(e){return new(e||a)},this.\u0275mod=t.$C({type:a}),this.\u0275inj=d.G2t({imports:[f.iI.forChild(C),f.iI]}))}return o(),a})(),G=(()=>{var o;class a{static#t=o=()=>(this.\u0275fac=function(e){return new(e||a)},this.\u0275mod=t.$C({type:a}),this.\u0275inj=d.G2t({imports:[r.bv,c.MD,u.YN,h.S,F]}))}return o(),a})()}}]);