"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1653],{1653:(st,S,c)=>{c.r(S),c.d(S,{ProductionShiftPageModule:()=>rt});var a=c(7343),m=c(2200),h=c(4341),y=c(2545),b=c(385),P=c(8132),v=c(467),k=c(1413),T=c(9584),j=c(3294),$=c(6977),p=function(i){return i[i.MORNING=1]="MORNING",i[i.EVENING=2]="EVENING",i[i.NIGHT=3]="NIGHT",i}(p||{}),t=c(3664),l=c(2615),I=c(5035),F=c(9330),f=c(8810),g=c(9437),R=c(5312),E=c(8938),G=c(3067);let M=(()=>{var i;class s{constructor(o,e){this.http=o,this.loginService=e,this.API_URL=`${R.c.apiBaseUrl}/production-shift`}getHeaders(){const o=this.loginService.getToken();return new F.Lr({"Content-Type":"application/json",Authorization:`Bearer ${o}`})}getProductionShifts(o=1,e=E.R.TEN,n){let d=`${this.API_URL}?page=${o}&itemsPerPage=${e}`;return n&&n.trim()&&(d+=`&search=${encodeURIComponent(n.trim())}`),this.http.get(d,{headers:this.getHeaders()}).pipe((0,g.W)(u=>(0,f.$)(()=>u)))}getProductionShift(o){return this.http.get(`${this.API_URL}/${o}`,{headers:this.getHeaders()}).pipe((0,g.W)(e=>(0,f.$)(()=>e)))}createProductionShift(o){const e={...o,shiftType:Number(o.shiftType)};return this.http.post(this.API_URL,e,{headers:this.getHeaders()}).pipe((0,g.W)(n=>(0,f.$)(()=>n)))}updateProductionShift(o,e){const n=e.shiftType?{...e,shiftType:Number(e.shiftType)}:e;return this.http.put(`${this.API_URL}/${o}`,n,{headers:this.getHeaders()}).pipe((0,g.W)(d=>(0,f.$)(()=>d)))}deleteProductionShift(o){return this.http.delete(`${this.API_URL}/${o}`,{headers:this.getHeaders()}).pipe((0,g.W)(e=>(0,f.$)(()=>e)))}static#t=i=()=>(this.\u0275fac=function(e){return new(e||s)(l.KVO(F.Qq),l.KVO(G.H))},this.\u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}))}return i(),s})();var N=c(6568),O=c(5473);function D(i,s){1&i&&(t.j41(0,"ion-card-subtitle"),t.EFF(1,"Please fill all required information"),t.k0s())}function x(i,s){if(1&i&&(t.j41(0,"ion-select-option",21),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r),t.R7$(),t.JRh(r)}}function w(i,s){if(1&i){const r=t.RV6();t.j41(0,"ion-content")(1,"ion-datetime",22),t.bIt("ionChange",function(e){l.eBV(r);const n=t.XpG();return l.Njj(n.onShiftDateChange(e))}),t.k0s()()}if(2&i){let r;const o=t.XpG();t.R7$(),t.Y8G("value",null==(r=o.shiftForm.get("shiftDate"))?null:r.value)("disabled","read"===o.mode)}}function Y(i,s){if(1&i&&(t.j41(0,"ion-select-option",21),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r),t.R7$(),t.JRh(r)}}function B(i,s){if(1&i&&(t.j41(0,"ion-select-option",21),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r.value),t.R7$(),t.JRh(r.label)}}function V(i,s){if(1&i&&(t.j41(0,"ion-select-option",21),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r),t.R7$(),t.JRh(r)}}function H(i,s){if(1&i){const r=t.RV6();t.j41(0,"ion-content")(1,"ion-datetime",23),t.bIt("ionChange",function(e){l.eBV(r);const n=t.XpG();return l.Njj(n.onShiftTimeChange(e))}),t.k0s()()}if(2&i){let r;const o=t.XpG();t.R7$(),t.Y8G("value",null==(r=o.shiftForm.get("shiftStartTime"))?null:r.value)}}function X(i,s){if(1&i&&(t.j41(0,"ion-select-option",21),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r.value),t.R7$(),t.JRh(r.label)}}function U(i,s){if(1&i&&(t.j41(0,"ion-select-option",21),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r.value),t.R7$(),t.JRh(r.label)}}function A(i,s){if(1&i&&(t.j41(0,"ion-select-option",21),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r.value),t.R7$(),t.JRh(r.label)}}function J(i,s){if(1&i&&(t.j41(0,"ion-select-option",21),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r.value),t.R7$(),t.JRh(r.label)}}function Q(i,s){if(1&i){const r=t.RV6();t.j41(0,"ion-row")(1,"ion-col",3)(2,"ion-button",24),t.EFF(3),t.k0s()(),t.j41(4,"ion-col",3)(5,"ion-button",25),t.bIt("click",function(){l.eBV(r);const e=t.XpG();return l.Njj(e.goBack())}),t.EFF(6," Cancel "),t.k0s()()()}if(2&i){const r=t.XpG();t.R7$(2),t.Y8G("disabled",r.isFormInvalid),t.R7$(),t.SpI(" ","create"===r.mode?"Submit Entry":"Update Entry"," ")}}let C=(()=>{var i;class s{constructor(o){this.fb=o,this.mode="create",this.formData=null,this.formSubmit=new t.bkB,this.formClosed=new t.bkB,this.machines=["Machine A","Machine B","Machine C"],this.workTypes=["Shift","Hours"],this.shiftTypes=[{label:"Morning",value:p.MORNING},{label:"Evening",value:p.EVENING},{label:"Night",value:p.NIGHT}],this.shiftHours=["6","8","12"],this.users=[{label:"Operator1",value:31},{label:"Operator2",value:32},{label:"Operator3",value:33},{label:"Supervisor1",value:22}];const e=new Date,n=e.toISOString().split("T")[0],d=e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0")+"T"+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")+":"+String(e.getSeconds()).padStart(2,"0")+"."+String(e.getMilliseconds()).padStart(3,"0");console.log("Current ISO Time:",d),this.shiftForm=this.fb.group({machine:["",h.k0.required],workType:["",h.k0.required],shiftType:[""],shiftHours:[""],operator1:["",h.k0.required],operator2:[""],operator3:[""],supervisor:["",h.k0.required],shiftDate:[n],shiftStartTime:[d,h.k0.required]})}ngOnInit(){this.onWorkTypeChange(),this.shiftForm.get("workType")?.valueChanges.subscribe(()=>this.onWorkTypeChange())}ngOnChanges(o){o.formData&&this.formData?(this.shiftForm.patchValue(this.formData),"read"===this.mode?this.shiftForm.disable():this.shiftForm.enable()):"create"===this.mode&&(this.resetForm(),this.shiftForm.enable())}resetForm(){const o=new Date,e=o.getFullYear()+"-"+String(o.getMonth()+1).padStart(2,"0")+"-"+String(o.getDate()).padStart(2,"0")+"T"+String(o.getHours()).padStart(2,"0")+":"+String(o.getMinutes()).padStart(2,"0")+":"+String(o.getSeconds()).padStart(2,"0")+"."+String(o.getMilliseconds()).padStart(3,"0");this.shiftForm.patchValue({shiftStartTime:e})}get f(){return this.shiftForm.controls}get isShiftTypeDisabled(){return this.shiftForm.get("shiftType")?.disabled??!0}get isShiftHoursDisabled(){return this.shiftForm.get("shiftHours")?.disabled??!0}get isFormInvalid(){return this.shiftForm.invalid}onWorkTypeChange(){const o=this.shiftForm.get("workType")?.value,e=this.shiftForm.get("shiftType"),n=this.shiftForm.get("shiftHours");"Shift"===o?(e?.enable(),n?.disable()):"Hours"===o?(n?.enable(),e?.disable()):(e?.disable(),n?.disable()),e?.updateValueAndValidity(),n?.updateValueAndValidity()}goBack(){this.formClosed.emit()}onSubmit(){if("read"!==this.mode&&this.shiftForm.valid){const o=this.shiftForm.getRawValue();this.formSubmit.emit(o)}}getFormattedDate(){const o=this.shiftForm.get("shiftDate")?.value;return o?new Date(o+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}onShiftDateChange(o){const e=o.detail.value;this.shiftForm.get("shiftDate")?.setValue(e,{emitEvent:!0})}getFormattedTime(){const o=this.shiftForm.get("shiftStartTime")?.value;return console.log("Raw Time Value:",o),o?new Date(o).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}):""}onShiftTimeChange(o){const e=o.detail.value;console.log("Selected Time ISO:",e),this.shiftForm.get("shiftStartTime")?.setValue(e,{emitEvent:!0})}static#t=i=()=>(this.\u0275fac=function(e){return new(e||s)(t.rXU(h.ok))},this.\u0275cmp=t.VBU({type:s,selectors:[["app-production-entry"]],inputs:{mode:"mode",formData:"formData"},outputs:{formSubmit:"formSubmit",formClosed:"formClosed"},features:[t.OA$],decls:60,vars:24,consts:[[1,"sme-form-card","ion-no-margin"],[4,"ngIf"],[3,"ngSubmit","formGroup"],["size","12"],["fill","outline",1,"ion-margin-bottom"],["formControlName","machine","label","Choose Machine *","label-placement","floating",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],["fill","outline","id","shiftDatePicker",1,"ion-margin-bottom"],["readonly","","label","Shift Date *","label-placement","floating",3,"value"],["trigger","shiftDatePicker","cssClass","shift-datetime-modal",3,"keepContentsMounted"],["formControlName","workType","label","Work Type *","label-placement","floating",3,"disabled"],["formControlName","shiftType","label","Shift Type","label-placement","floating",3,"disabled"],["formControlName","shiftHours","label","Shift Hours","label-placement","floating",3,"disabled"],["fill","outline","id","shiftTimePicker",1,"ion-margin-bottom"],["readonly","","label","Shift Starting Time *","label-placement","floating",3,"value"],["trigger","shiftTimePicker","cssClass","shift-datetime-modal",3,"keepContentsMounted"],["size","12","size-md","6"],["formControlName","operator1","label","Operator 1 *","label-placement","floating",3,"disabled"],["formControlName","operator2","label","Operator 2","label-placement","floating",3,"disabled"],["formControlName","operator3","label","Operator 3","label-placement","floating",3,"disabled"],["formControlName","supervisor","label","Supervisor *","label-placement","floating",3,"disabled"],[3,"value"],["presentation","date","show-default-buttons","true",3,"ionChange","value","disabled"],["presentation","time","hour-cycle","h12","show-default-buttons","true",3,"ionChange","value"],["expand","block","type","submit","color","primary","size","large",1,"ion-margin-top",3,"disabled"],["expand","block","type","button","color","medium","size","large",1,"ion-margin-top",3,"click"]],template:function(e,n){1&e&&(t.j41(0,"ion-card",0)(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3),t.k0s(),t.DNE(4,D,2,0,"ion-card-subtitle",1),t.k0s(),t.j41(5,"ion-card-content")(6,"form",2),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.j41(7,"ion-grid")(8,"ion-row")(9,"ion-col",3)(10,"ion-item",4)(11,"ion-select",5),t.DNE(12,x,2,2,"ion-select-option",6),t.k0s()()()(),t.j41(13,"ion-row")(14,"ion-col",3)(15,"ion-item",7),t.nrm(16,"ion-input",8),t.j41(17,"ion-modal",9),t.DNE(18,w,2,2,"ng-template"),t.k0s()()()(),t.j41(19,"ion-row")(20,"ion-col",3)(21,"ion-item",4)(22,"ion-select",10),t.DNE(23,Y,2,2,"ion-select-option",6),t.k0s()()()(),t.j41(24,"ion-row")(25,"ion-col",3)(26,"ion-item",4)(27,"ion-select",11),t.DNE(28,B,2,2,"ion-select-option",6),t.k0s()()()(),t.j41(29,"ion-row")(30,"ion-col",3)(31,"ion-item",4)(32,"ion-select",12),t.DNE(33,V,2,2,"ion-select-option",6),t.k0s()()()(),t.j41(34,"ion-row")(35,"ion-col",3)(36,"ion-item",13),t.nrm(37,"ion-input",14),t.j41(38,"ion-modal",15),t.DNE(39,H,2,1,"ng-template"),t.k0s()()()(),t.j41(40,"ion-row")(41,"ion-col",16)(42,"ion-item",4)(43,"ion-select",17),t.DNE(44,X,2,2,"ion-select-option",6),t.k0s()()(),t.j41(45,"ion-col",16)(46,"ion-item",4)(47,"ion-select",18),t.DNE(48,U,2,2,"ion-select-option",6),t.k0s()()()(),t.j41(49,"ion-row")(50,"ion-col",16)(51,"ion-item",4)(52,"ion-select",19),t.DNE(53,A,2,2,"ion-select-option",6),t.k0s()()(),t.j41(54,"ion-col",16)(55,"ion-item",4)(56,"ion-select",20),t.DNE(57,J,2,2,"ion-select-option",6),t.k0s()()()(),t.DNE(58,Q,7,2,"ion-row",1),t.k0s()()()(),t.nrm(59,"app-footer")),2&e&&(t.R7$(3),t.SpI(" ","create"===n.mode?"Daily Shift Entry":"update"===n.mode?"Edit Shift Entry":"Shift Entry Details"," "),t.R7$(),t.Y8G("ngIf","read"!==n.mode),t.R7$(2),t.Y8G("formGroup",n.shiftForm),t.R7$(5),t.Y8G("disabled","read"===n.mode),t.R7$(),t.Y8G("ngForOf",n.machines),t.R7$(4),t.Y8G("value",n.getFormattedDate()),t.R7$(),t.Y8G("keepContentsMounted",!0),t.R7$(5),t.Y8G("disabled","read"===n.mode),t.R7$(),t.Y8G("ngForOf",n.workTypes),t.R7$(4),t.Y8G("disabled",n.isShiftTypeDisabled||"read"===n.mode),t.R7$(),t.Y8G("ngForOf",n.shiftTypes),t.R7$(4),t.Y8G("disabled",n.isShiftHoursDisabled||"read"===n.mode),t.R7$(),t.Y8G("ngForOf",n.shiftHours),t.R7$(4),t.Y8G("value",n.getFormattedTime()),t.R7$(),t.Y8G("keepContentsMounted",!0),t.R7$(5),t.Y8G("disabled","read"===n.mode),t.R7$(),t.Y8G("ngForOf",n.users),t.R7$(3),t.Y8G("disabled","read"===n.mode),t.R7$(),t.Y8G("ngForOf",n.users),t.R7$(4),t.Y8G("disabled","read"===n.mode),t.R7$(),t.Y8G("ngForOf",n.users),t.R7$(3),t.Y8G("disabled","read"===n.mode),t.R7$(),t.Y8G("ngForOf",n.users),t.R7$(),t.Y8G("ngIf","read"!==n.mode))},dependencies:[a.bv,a.Jm,a.b_,a.I9,a.ME,a.HW,a.tN,a.hU,a.W9,a.A9,a.lO,a.$w,a.uz,a.ln,a.Nm,a.Ip,a.Sb,a.Je,a.Gw,m.MD,m.Sq,m.bT,h.X1,h.qT,h.BC,h.cb,h.j4,h.JD,h.YN,O.n],styles:["ion-card[_ngcontent-%COMP%]{--box-shadow: 0 4px 16px rgba(0,0,0,.1);margin:16px}ion-item[_ngcontent-%COMP%]{--border-radius: 8px;--background: var(--ion-color-light)}@media (max-width: 768px){.row[_ngcontent-%COMP%]{margin:0 -8px}[class*=col-][_ngcontent-%COMP%]{padding:0 8px}}"]}))}return i(),s})();const z=["searchInput"];function W(i,s){if(1&i&&(t.j41(0,"ion-item",16)(1,"ion-label"),t.EFF(2," Found "),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5," shift(s) "),t.k0s()()),2&i){const r=t.XpG();t.R7$(4),t.JRh(r.productionShifts.length)}}function L(i,s){if(1&i){const r=t.RV6();t.j41(0,"ion-item",18)(1,"ion-label",19),t.bIt("click",function(){const e=l.eBV(r).$implicit,n=t.XpG(2);return l.Njj(n.openReadForm(e))}),t.j41(2,"h2"),t.EFF(3),t.j41(4,"ion-badge",20),t.EFF(5),t.k0s()(),t.j41(6,"p",21),t.EFF(7,"Order: "),t.j41(8,"strong"),t.EFF(9),t.k0s(),t.EFF(10," | Machine: "),t.j41(11,"strong"),t.EFF(12),t.k0s()(),t.j41(13,"p",22),t.EFF(14),t.k0s()(),t.j41(15,"ion-buttons",23)(16,"ion-button",24),t.bIt("click",function(){const e=l.eBV(r).$implicit,n=t.XpG(2);return l.Njj(n.openUpdateForm(e))}),t.nrm(17,"ion-icon",25),t.k0s(),t.j41(18,"ion-button",26),t.bIt("click",function(){const e=l.eBV(r).$implicit,n=t.XpG(2);return l.Njj(n.confirmDelete(e))}),t.nrm(19,"ion-icon",27),t.k0s()()()}if(2&i){const r=s.$implicit,o=t.XpG(2);t.R7$(3),t.SpI("",r.shiftId," "),t.R7$(2),t.JRh(r.shiftType===o.ShiftType.MORNING?"Morning":r.shiftType===o.ShiftType.EVENING?"Evening":"Night"),t.R7$(4),t.JRh(r.orderId),t.R7$(3),t.JRh(r.machineId),t.R7$(2),t.Lme("Production: ",r.production," | Net: ",r.netProduction)}}function K(i,s){if(1&i&&(t.j41(0,"ion-list"),t.DNE(1,L,20,6,"ion-item",17),t.k0s()),2&i){const r=t.XpG();t.R7$(),t.Y8G("ngForOf",r.productionShifts)}}function Z(i,s){if(1&i&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&i){const r=t.XpG(2);t.R7$(),t.SpI('No shifts match your search "',r.searchQuery,'"')}}function q(i,s){1&i&&(t.j41(0,"p"),t.EFF(1,"No production shifts available. Click the add button to create one."),t.k0s())}function tt(i,s){if(1&i&&(t.j41(0,"ion-card",28)(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"No Production Shifts Found"),t.k0s()(),t.j41(4,"ion-card-content"),t.DNE(5,Z,2,1,"p",11)(6,q,2,0,"p",11),t.k0s()()),2&i){const r=t.XpG();t.R7$(5),t.Y8G("ngIf",r.searchQuery),t.R7$(),t.Y8G("ngIf",!r.searchQuery&&0===r.productionShifts.length)}}function et(i,s){if(1&i){const r=t.RV6();t.j41(0,"app-header",30),t.bIt("backClicked",function(){l.eBV(r);const e=t.XpG(2);return l.Njj(e.closeForm())}),t.k0s(),t.j41(1,"ion-content")(2,"app-production-entry",31),t.bIt("formSubmit",function(e){l.eBV(r);const n=t.XpG(2);return l.Njj(n.handleFormSubmit(e))})("formClosed",function(){l.eBV(r);const e=t.XpG(2);return l.Njj(e.closeForm())}),t.k0s()()}if(2&i){const r=t.XpG(2);t.Y8G("title","create"===r.formMode?"Create Shift":"update"===r.formMode?"Update Shift":"Shift Details")("showBackButton",!0),t.R7$(2),t.Y8G("mode",r.formMode)("formData",r.selectedShift)}}function ot(i,s){if(1&i){const r=t.RV6();t.j41(0,"ion-modal",29),t.bIt("ionModalDidDismiss",function(){l.eBV(r);const e=t.XpG();return l.Njj(e.closeForm())}),t.DNE(1,et,3,4,"ng-template"),t.k0s()}}const it=[{path:"",component:(()=>{var i;class s{constructor(o,e,n,d){this.alertController=o,this.navCtrl=e,this.productionShiftService=n,this.operationsService=d,this.productionShifts=[],this.formMode=null,this.selectedShift=null,this.showForm=!1,this.currentPage=1,this.hasMore=!0,this.loading=!1,this.searchQuery="",this.ShiftType=p,this.searchSubject=new k.B,this.destroy$=new k.B,this.searchSubject.pipe((0,T.B)(300),(0,j.F)(),(0,$.Q)(this.destroy$)).subscribe(u=>{this.performSearch(u)})}ngOnInit(){this.loadProductionShifts()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.searchSubject.complete()}loadProductionShifts(o){this.loading||!this.hasMore||(this.loading=!0,this.productionShiftService.getProductionShifts(this.currentPage,10,this.searchQuery).subscribe({next:e=>{this.productionShifts=1===this.currentPage?e.items:[...this.productionShifts,...e.items],this.hasMore=e.paging.currentPage<e.paging.totalPages,this.currentPage++,this.loading=!1,o&&o.target.complete()},error:e=>{console.error("Error loading production shifts:",e),this.loading=!1,o&&o.target.complete()}}))}onSearchInput(o){this.searchQuery=o.target.value||"",this.searchSubject.next(this.searchQuery)}performSearch(o){this.searchQuery=o,this.currentPage=1,this.hasMore=!0,this.productionShifts=[],this.loadProductionShifts()}clearSearch(){this.searchQuery="",this.searchInput&&(this.searchInput.value=""),this.performSearch("")}openCreateForm(){this.selectedShift=null,this.formMode="create",this.showForm=!0}openReadForm(o){this.productionShiftService.getProductionShift(o.shiftIdSeq).subscribe({next:e=>{this.selectedShift=e,this.formMode="read",this.showForm=!0}})}openUpdateForm(o){this.productionShiftService.getProductionShift(o.shiftIdSeq).subscribe({next:e=>{this.selectedShift=e,this.formMode="update",this.showForm=!0}})}confirmDelete(o){var e=this;return(0,v.A)(function*(){yield(yield e.alertController.create({header:"Confirm Delete",message:`Delete production shift "${o.shiftId}"?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>e.deleteShift(o)}]})).present()})()}deleteShift(o){this.productionShiftService.deleteProductionShift(o.shiftIdSeq).subscribe({next:()=>{this.productionShifts=this.productionShifts.filter(e=>e.shiftIdSeq!==o.shiftIdSeq)}})}handleFormSubmit(o){"create"===this.formMode?this.productionShiftService.createProductionShift(o).subscribe({next:e=>{this.productionShifts.unshift(e),this.closeForm()}}):"update"===this.formMode&&this.selectedShift&&this.productionShiftService.updateProductionShift(this.selectedShift.shiftIdSeq,o).subscribe({next:e=>{const n=this.productionShifts.findIndex(d=>d.shiftIdSeq===this.selectedShift?.shiftIdSeq);n>-1&&(this.productionShifts[n]=e),this.closeForm()}})}closeForm(){this.showForm=!1,this.selectedShift=null,this.formMode=null}onHeaderBackClick(){this.operationsService.navigateToOperations()}static#t=i=()=>(this.\u0275fac=function(e){return new(e||s)(t.rXU(a.hG),t.rXU(I.q9),t.rXU(M),t.rXU(N.A))},this.\u0275cmp=t.VBU({type:s,selectors:[["app-production-shift"]],viewQuery:function(e,n){if(1&e&&t.GBs(z,5),2&e){let d;t.mGM(d=t.lsd())&&(n.searchInput=d.first)}},standalone:!1,decls:20,vars:7,consts:[["searchInput",""],["backAction","back","rightIconColor","primary",3,"backClicked","rightButtonClicked","showBackButton"],[1,"page-header"],[1,"page-title-container"],[1,"page-title"],[1,"page-subtitle"],["fill","solid","color","primary",1,"add-button",3,"click"],["slot","start","name","add-outline"],[1,"search-card"],["placeholder","Search by shift ID, order, or machine...","debounce","0",3,"keyup","ionClear","value"],["class","results-info",4,"ngIf"],[4,"ngIf"],["class","empty-state",4,"ngIf"],[3,"ionInfinite","disabled"],["loadingSpinner","bubbles","loadingText","Loading more shifts..."],["isOpen","true",3,"ionModalDidDismiss",4,"ngIf"],[1,"results-info"],["class","shift-item",4,"ngFor","ngForOf"],[1,"shift-item"],[3,"click"],["color","primary"],[1,"details"],[1,"production"],["slot","end"],["color","secondary",3,"click"],["slot","icon-only","name","create-outline"],["color","danger",3,"click"],["slot","icon-only","name","trash-outline"],[1,"empty-state"],["isOpen","true",3,"ionModalDidDismiss"],["backAction","dismiss",3,"backClicked","title","showBackButton"],[3,"formSubmit","formClosed","mode","formData"]],template:function(e,n){if(1&e){const d=t.RV6();t.j41(0,"app-header",1),t.bIt("backClicked",function(){return l.eBV(d),l.Njj(n.onHeaderBackClick())})("rightButtonClicked",function(){return l.eBV(d),l.Njj(n.openCreateForm())}),t.k0s(),t.j41(1,"ion-content")(2,"div",2)(3,"div",3)(4,"h1",4),t.EFF(5,"Production Shifts"),t.k0s(),t.j41(6,"p",5),t.EFF(7,"Manage production shift data"),t.k0s()(),t.j41(8,"ion-button",6),t.bIt("click",function(){return l.eBV(d),l.Njj(n.openCreateForm())}),t.nrm(9,"ion-icon",7),t.EFF(10," Add "),t.k0s()(),t.j41(11,"ion-card",8)(12,"ion-searchbar",9,0),t.bIt("keyup",function(_){return l.eBV(d),l.Njj(n.onSearchInput(_))})("ionClear",function(){return l.eBV(d),l.Njj(n.clearSearch())}),t.k0s()(),t.DNE(14,W,6,1,"ion-item",10)(15,K,2,1,"ion-list",11)(16,tt,7,2,"ion-card",12),t.j41(17,"ion-infinite-scroll",13),t.bIt("ionInfinite",function(_){return l.eBV(d),l.Njj(n.loadProductionShifts(_))}),t.nrm(18,"ion-infinite-scroll-content",14),t.k0s(),t.DNE(19,ot,2,0,"ion-modal",15),t.k0s()}2&e&&(t.Y8G("showBackButton",!0),t.R7$(12),t.Y8G("value",n.searchQuery),t.R7$(2),t.Y8G("ngIf",n.searchQuery),t.R7$(),t.Y8G("ngIf",n.productionShifts.length>0),t.R7$(),t.Y8G("ngIf",0===n.productionShifts.length&&!n.loading),t.R7$(),t.Y8G("disabled",!n.hasMore),t.R7$(2),t.Y8G("ngIf",n.showForm))},dependencies:[a.In,a.Jm,a.QW,a.b_,a.I9,a.ME,a.tN,a.W9,a.iq,a.Ax,a.Hp,a.uz,a.he,a.nf,a.S1,a.Sb,a.Gw,m.Sq,m.bT,b.l,C],styles:[".page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:var(--ion-color-light);border-bottom:1px solid var(--ion-color-medium)}.page-title-container[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:var(--ion-color-dark)}.page-subtitle[_ngcontent-%COMP%]{margin:4px 0 0;font-size:.9rem;color:var(--ion-color-medium-shade)}.add-button[_ngcontent-%COMP%]{--border-radius: 8px;height:40px;font-weight:500}.results-info[_ngcontent-%COMP%]{--background: var(--ion-color-light);--color: var(--ion-color-medium-shade);font-size:.9rem;margin:0 16px 8px;border-radius:8px}.operations-stack[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{flex-direction:column}.operations-stack[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:.15rem 0}.operations-stack[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:100%;max-width:350px;height:70px;margin:0 auto 1rem;border-radius:14px;box-shadow:0 2px 8px #00000012;display:flex;align-items:center;padding:0;background:#fff;transition:box-shadow .15s}.operations-stack[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #0000001c}.operations-stack[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .operation-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:100%;height:100%;padding:0 1.3rem}.operations-stack[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem;margin-right:1.1rem;color:#0078d7;flex-shrink:0}.operations-stack[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .operation-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.operations-stack[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .operation-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#232323;letter-spacing:.2px}.operations-stack[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .operation-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:#505050;margin-top:1px;opacity:.8}ion-modal.datetime-modal[_ngcontent-%COMP%]{--width: 350px;--height: 445px;--max-width: 90%;--max-height: 80%;--border-radius: 12px;--backdrop-opacity: .4}ion-modal.datetime-modal[_ngcontent-%COMP%]::part(content){border-radius:12px;display:flex;flex-direction:column}"]}))}return i(),s})()}];let nt=(()=>{var i;class s{static#t=i=()=>(this.\u0275fac=function(e){return new(e||s)},this.\u0275mod=t.$C({type:s}),this.\u0275inj=l.G2t({imports:[P.iI.forChild(it),P.iI]}))}return i(),s})(),rt=(()=>{var i;class s{static#t=i=()=>(this.\u0275fac=function(e){return new(e||s)},this.\u0275mod=t.$C({type:s}),this.\u0275inj=l.G2t({imports:[a.bv,m.MD,h.YN,y.S,b.l,C,nt]}))}return i(),s})()}}]);